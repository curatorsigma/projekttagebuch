<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
	<title>Telefon</title>
	<script src="/scripts/htmx@2.0.2.js"></script>
	<script src="/scripts/htmx@2.0.2_response_targets.js"></script>
	<link rel="stylesheet" href="/style.css">
	<script src="/scripts/hyperscript.org@0.9.12.js"></script>
</head>

<body hx-ext="response-targets" class="min-h-screen bg-neutral-700 text-sky-500 font-mono">
	<header class="sticky top-0 z-40 backdrop-blur flex justify-center bg-neutral-900 border-zinc-400 border-b-4 w-full shadow-md">
		<div class="flex justify-between w-4/5">
			<div class="text-xl"> $whoami &rarr; <b>{{ username }}</b> </div>
			<a class="text-xl h-8 w-12 bg-neutral-900 hover:bg-neutral-700 hover:rounded-2xl" href="/logout">
				<svg class="h-8 w-8 translate-x-2"  width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">  <path stroke="none" d="M0 0h24v24H0z"/>  <path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2" />  <path d="M7 12h14l-3 -3m0 6l3 -3" /></svg>
			</a>
		</div>
	</header>

	<main class="static translate-y-8 z-20">
	<div class="relative flex justify-center m-12">
		<div class="text-xl text-red-500" id="error_display" _="on htmx:beforeSend from elsewhere set my innerHTML to ''"></div>
	</div>

	<div class="relative flex justify-center m-14">
		TODO: grey this button out for normal users
		<button
			class="text-xl text-sky-500 bg-lime-700/70 p-2 rounded-lg hover:rounded-2xl hover:bg-lime-700"
			hx-get="/web/projekt/new"
			hx-target="#phantom_row"
			hx-swap="afterend">
				<svg class="h-20 w-20"  width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">  <path stroke="none" d="M0 0h24v24H0z"/>  <path d="M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2" />  <path d="M15 6h6m-3 -3v6" /></svg>
		</button>
	</div>

	<div class="sticky top-0">
		<div id="relative existing-projects" class="flex justify-center bg-neutral-700 text-sky-300">
			<div class="relative flex flex-col justify-evenly w-4/5">
				<div class="tr" id="phantom_row"></div>
				{% for project in projects %}
					{{ project.to_template(permission) }}
				{% endfor %}
			</div>
		</div>
	</div>
	</main>
</body>
</html>
